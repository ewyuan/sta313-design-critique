(this["webpackJsonpsta313-design-critique"]=this["webpackJsonpsta313-design-critique"]||[]).push([[0],{27:function(e,t,n){},32:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(20),i=n.n(c),s=(n(27),n(7)),o=n(10),u=n(14),l=n(5);function j(e){var t=e.year;return Object(l.jsxs)("div",{className:"control-panel",children:[Object(l.jsx)("h3",{children:"Visualizing Unemployment Rates in Canada"}),Object(l.jsxs)("p",{children:["Map showing unemployment rates by province/territory in year ",Object(l.jsx)("b",{children:t}),"."]}),Object(l.jsx)("p",{children:"Hover over a province/territory to see unemployment rates, and percentile for that year."}),Object(l.jsxs)("p",{children:["Data source: ",Object(l.jsx)("a",{href:"https://www.statcan.gc.ca",children:"Statistics Canada"})]}),Object(l.jsx)("hr",{}),Object(l.jsxs)("div",{className:"input",children:[Object(l.jsx)("label",{children:"Year"}),Object(l.jsx)("input",{type:"range",value:t,min:2004,max:2020,step:1,onChange:function(t){return e.onChange(t.target.value)}})]},"year")]})}var p=a.memo(j),f={id:"data",type:"fill",paint:{"fill-color":{property:"percentile",stops:[[0,"#ffe6e6"],[1,"#ffcccc"],[2,"#ffb3b3"],[3,"#ff9999"],[4,"#ff8080"],[5,"#ff6666"],[6,"#ff4d4d"],[7,"#ff3333"],[8,"#ff1a1a"],[9,"#ff0000"]]},"fill-opacity":.6}},b=(n(32),n(36)),d=n(37);var O=function(){var e=r.a.useState({latitude:60,longitude:-98,zoom:3}),t=Object(o.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(2004),j=Object(o.a)(i,2),O=j[0],h=j[1],m=Object(a.useState)(null),v=Object(o.a)(m,2),y=v[0],x=v[1],g=Object(a.useState)(null),w=Object(o.a)(g,2),C=w[0],S=w[1];Object(a.useEffect)((function(){fetch("https://raw.githubusercontent.com/ewyuan/sta313-design-critique/master/src/data/unemployment-data.geojson").then((function(e){return e.json()})).then((function(e){return x(e)}))}),[]);var I=Object(a.useCallback)((function(e){var t=e.features,n=e.srcEvent,a=n.offsetX,r=n.offsetY,c=t&&t[0];S(c?{feature:c,x:a,y:r}:null)}),[]),F=Object(a.useMemo)((function(){return y&&function(e,t){var n=e.features,a=Object(d.a)().domain(n.map(t)).range(Object(b.a)(9));return{type:"FeatureCollection",features:n.map((function(e){var n=t(e),r=Object(s.a)(Object(s.a)({},e.properties),{},{value:n,percentile:a(n)});return Object(s.a)(Object(s.a)({},e),{},{properties:r})}))}}(y,(function(e){return e.properties.unemploymentRates[O]}))}),[y,O]);return Object(l.jsxs)("div",{children:[Object(l.jsxs)(u.c,Object(s.a)(Object(s.a)({},n),{},{mapboxApiAccessToken:"pk.eyJ1IjoiZXd5dWFuIiwiYSI6ImNra3QzdXA3OTByemoycXFtZ3Y2OGtvbHoifQ.WseIrpWX6gQmc5Wi6OQX9A",width:"100wh",height:"100vh",interactiveLayerIds:["data"],onHover:I,onViewportChange:c,mapStyle:"mapbox://styles/mapbox/light-v9",children:[Object(l.jsx)(u.b,{type:"geojson",data:F,children:Object(l.jsx)(u.a,Object(s.a)({},f))}),C&&Object(l.jsxs)("div",{className:"tooltip",style:{left:C.x,top:C.y},children:[Object(l.jsxs)("div",{children:["Province/Territory: ",C.feature.properties.name]}),Object(l.jsxs)("div",{children:["Unemployment Rate: ",C.feature.properties.value,"%"]}),Object(l.jsxs)("div",{children:["Percentile: ",C.feature.properties.percentile/8*100]})]})]})),Object(l.jsx)(p,{year:O,onChange:function(e){return h(e)}})]})},h=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,38)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};i.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(O,{})}),document.getElementById("root")),h()}},[[34,1,2]]]);
//# sourceMappingURL=main.96d94100.chunk.js.map